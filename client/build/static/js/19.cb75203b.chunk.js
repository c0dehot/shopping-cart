(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[19],{80:function(e,t,s){"use strict";s.r(t);var a=s(8),c=s.n(a),i=s(12),n=s(3),l=s(1),r=s(4),d=s(52),j=s(5),b=s(14),o=s(0);t.default=function(){var e=Object(j.b)(),t=Object(n.a)(e,2),s=t[0],a=s.isAdmin,h=s.refCode,u=s.affilCode,f=t[1],O=Object(l.useState)([]),m=Object(n.a)(O,2),x=m[0],v=m[1],p=Object(l.useRef)();function g(){return(g=Object(i.a)(c.a.mark((function e(){var t,s,a,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(b.a)("/api/users/affiliates");case 2:if(t=e.sent,s=t.status,a=t.data,i=t.message,console.log("[orgs] status(".concat(s,") message(").concat(i,") Affiliates loadPage():"),a),s){e.next=10;break}return f({type:"USER_LOGOUT",message:i}),e.abrupt("return");case 10:console.log("affiliate data: ",a),v(a);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(l.useRef)({}),Object(l.useEffect)((function(){a&&function(){g.apply(this,arguments)}()}),[a]),Object(o.jsx)("form",{ref:p,id:"mainForm",encType:"multipart/form-data",method:"post",children:Object(o.jsxs)("div",{class:"card",children:[Object(o.jsx)("div",{class:"card-header",children:Object(o.jsx)("h4",{children:"Account Settings"})}),Object(o.jsxs)("div",{class:"card-body",children:[Object(o.jsx)("div",{class:"card-subtitle pb-4",children:Object(o.jsxs)("ul",{class:"nav nav-pills card-header-tabs",children:[Object(o.jsx)("li",{class:"nav-item",children:Object(o.jsx)(r.c,{to:"/admin/settings/user",className:"nav-link",activeClassName:"active",children:"Profile"})}),Object(o.jsx)("li",{class:"nav-item",children:Object(o.jsx)(r.c,{to:"/admin/settings/org",className:"nav-link",activeClassName:"active",children:"Organization"})}),Object(o.jsx)("li",{class:"nav-item",children:Object(o.jsx)(r.c,{to:"/admin/settings/affiliate",className:"nav-link",activeClassName:"active",children:"Affiliate Invites"})}),Object(o.jsx)("li",{class:"nav-item",children:Object(o.jsx)(r.c,{to:"/admin/settings/financial",className:"nav-link",activeClassName:"active",children:"Financial"})})]})}),h&&Object(o.jsxs)("div",{class:"mb-3",children:[Object(o.jsx)("label",{children:"Your Referrer"}),"You were invited to our system by the affiliate code ",Object(o.jsx)("b",{children:h})]}),Object(o.jsxs)("div",{class:"mb-3",children:[Object(o.jsx)("label",{children:"Your Affiliate Code"}),Object(o.jsxs)("div",{class:"input-group mb-3",children:[Object(o.jsx)("h1",{children:u}),Object(o.jsxs)("div",{class:"alert alert-warning",children:["You can share this code with people signing up by giving this link to them, and they will then become part of your affiliate network:",Object(o.jsx)("div",{children:Object(o.jsxs)("a",{href:"/signup/".concat(u),target:"_blank",rel:"noreferrer",children:["https://restocart.ca/signup/",u]})})]})]})]}),Object(o.jsx)("div",{class:"mb-3",children:Object(o.jsx)("label",{class:"form-label",children:"Your Affiliate Signups"})}),Object(o.jsx)("div",{class:"mb-3",children:Object(o.jsx)("ol",{class:"list-group list-group-numbered",children:x&&x.map((function(e){return Object(o.jsxs)("li",{class:"list-group-item d-flex justify-content-between align-items-start",children:[Object(o.jsxs)("div",{class:"ms-2 me-auto",children:[Object(o.jsx)("div",{class:"fw-bold",children:Object(o.jsx)("a",{href:"https://restocart.ca/".concat(e.url,"/"),target:"_blank",rel:"noreferrer",children:e.name})}),Object(o.jsxs)("small",{children:["Registered ",d.DateTime.fromISO(e.createdAt).toRelative()]})]}),Object(o.jsx)("span",{class:"badge bg-warning text-dark rounded-pill",children:"$ 0"})]})}))})})]})]})})}}}]);
//# sourceMappingURL=19.cb75203b.chunk.js.map