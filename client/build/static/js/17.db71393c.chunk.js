(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[17],{74:function(e,t,c){"use strict";c.r(t);var s=c(8),n=c.n(s),a=c(12),r=c(3),i=c(1),l=c(6),o=c(5),u=c(14),b=c(0),d=[{value:"No_Longer_Interested",text:"I no longer want to receive these emails"},{value:"Not_Relevant",text:"The emails are not relevant to me"},{value:"Too_Many",text:"The emails are too frequent"},{value:"Never_Signed_Up",text:"I never signed up for this mailing list"},{value:"Spam",text:"The emails are spam and should be reported"}];t.default=function(){var e=Object(o.b)(),t=Object(r.a)(e,2)[1],c=Object(i.useState)(),s=Object(r.a)(c,2),j=s[0],h=s[1],p=Object(i.useState)(!1),m=Object(r.a)(p,2),O=m[0],x=m[1],f=Object(i.useState)(!1),v=Object(r.a)(f,2),g=v[0],k=v[1],y=Object(l.h)().email||"",w=Object(l.h)().code||"",S=Object(i.useRef)();function _(e){return F.apply(this,arguments)}function F(){return(F=Object(a.a)(n.a.mark((function e(c){var s,a,r,i;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c&&c.preventDefault(),s={email:y,code:w,reason:j||""},console.log("choice",j),c&&x(!0),console.log("attempting to signup: '/api/mail/unsubscribe' with:",s),e.next=7,Object(u.a)("/api/mail/unsubscribe","post",s);case 7:a=e.sent,r=a.status,i=a.message,console.log(" .. status(".concat(r,") message(").concat(i,")")),r||(k(!0),t({type:"ALERT_MESSAGE",message:i}));case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(i.useEffect)((function(){_()}),[]),Object(b.jsx)("form",{ref:S,class:"form-signin",children:Object(b.jsx)("div",{class:"card mt-5",children:g?Object(b.jsx)("div",{class:"card-body",children:Object(b.jsx)("h1",{class:"text-warning",children:"Invalid Link!"})}):O?Object(b.jsx)("div",{class:"card-body",children:Object(b.jsx)("h1",{class:"text-success",children:"Feedback Sent, thank you!"})}):Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)("div",{class:"card-body",children:[Object(b.jsx)("h1",{children:"You have successfully unsubscribed!"}),Object(b.jsx)("hr",{}),Object(b.jsx)("h5",{children:"If you have a moment, please let us know why you unsubscribed:"}),Object(b.jsx)("ul",{class:"list-group pb-4",children:d.map((function(e,t){return Object(b.jsx)("li",{class:"list-group-item d-flex justify-content-between align-items-center product",children:Object(b.jsxs)("div",{class:"form-check",children:[Object(b.jsx)("input",{onClick:function(){return h(e.value)},defaultChecked:0===t,class:"form-check-input",name:"unsubFeedback",type:"radio",id:"unsubFeedback".concat(t)}),Object(b.jsx)("label",{class:"form-check-label",for:"unsubFeedback".concat(t),children:e.text})]})},e.value)}))})]}),Object(b.jsx)("div",{class:"card-footer",children:Object(b.jsx)("button",{onClick:_,class:"btn btn-primary mx-1",children:"Submit"})}),Object(b.jsx)("div",{class:"card-footer",children:Object(b.jsx)("small",{class:"text-muted",children:"Please give us up to 48 hours to process your request."})})]})})})}}}]);
//# sourceMappingURL=17.db71393c.chunk.js.map