(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[9],{49:function(t,e,a){"use strict";var n=a(8),s=a.n(n),c=a(12),r=a(16),i=a(3),o=a(1),u=a(5),l=a(14),b=a(0);e.a=function(t){var e=Object(o.useState)([]),a=Object(i.a)(e,2),n=a[0],d=a[1],j=Object(u.b)(),p=Object(i.a)(j,2),f=p[0].org,g=p[1];function O(t){var e=t.target.dataset.idx,a=Object(r.a)(n);a[e]=t.target.value,d(a)}function m(t){if(t.preventDefault(),window.confirm("Delete category?")){var e=t.target.dataset.idx,a=Object(r.a)(n);a.splice(e,1),d(a)}}function h(){return(h=Object(c.a)(s.a.mark((function e(a){var c,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),e.next=3,Object(l.a)("/api/orgs","put",{itemCategories:n});case 3:c=e.sent,c.status,r=c.message,g({type:"USER_SESSION_ADMIN",data:{org:{itemCategories:n}},message:r}),t.updateCategories&&t.updateCategories(n);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(o.useEffect)((function(){d(t.itemCategories)}),[t.itemCategories]),Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("div",{class:"card-header",children:Object(b.jsx)("h4",{children:"Edit Categories"})}),Object(b.jsx)("div",{class:"mb-1",children:Object(b.jsxs)("ul",{class:"list-group list-group-flush",children:[n&&n.map((function(t,e){return Object(b.jsx)("li",{class:"list-group-item",children:Object(b.jsxs)("div",{class:"input-group",children:[Object(b.jsx)("input",{value:t,onChange:O,name:e,"data-idx":e,type:"text",class:"form-control"}),Object(b.jsx)("button",{onClick:m,class:"btn btn-outline-danger","data-idx":e,disabled:0===e,tabIndex:"-1",title:"Delete",children:"x"})]})},"cat".concat(e))})),Object(b.jsx)("li",{class:"list-group-item",children:Object(b.jsx)("button",{onClick:function(t){t.preventDefault();var e=Object(r.a)(n);e.push([]),d(e)},class:"btn btn-sm btn-outline-primary pl-3",title:"Add Another",children:"+ Another"})})]})}),Object(b.jsxs)("div",{class:"card-footer mb-3",children:[Object(b.jsx)("button",{onClick:function(e){d(f.itemCategories),t.updateCategories&&t.updateCategories()},class:"btn btn-sm btn-light float-end",children:"Cancel"}),Object(b.jsx)("button",{onClick:function(t){return h.apply(this,arguments)},class:"btn btn-sm btn-primary",children:"Update"})]})]})}},75:function(t,e,a){"use strict";a.r(e);var n=a(8),s=a.n(n),c=a(2),r=a(12),i=a(3),o=a(1),u=a(5),l=a(14),b=(a(9),a(49)),d=a(0);e.default=function(){var t=Object(u.b)(),e=Object(i.a)(t,2),a=e[0].isAdmin,n=e[1],j=Object(o.useState)({}),p=Object(i.a)(j,2),f=p[0],g=p[1];function O(){return(O=Object(r.a)(s.a.mark((function t(){var e,a,c,r;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(l.a)("/api/orgs");case 2:if(e=t.sent,a=e.status,c=e.data,r=e.message,console.log("[orgs] status(".concat(a,") message(").concat(r,") loadPage():"),c),a){t.next=10;break}return n({type:"USER_LOGOUT",message:r}),t.abrupt("return");case 10:g(c);case 11:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(o.useEffect)((function(){a&&function(){O.apply(this,arguments)}()}),[a]),Object(d.jsx)("form",{id:"mainForm",encType:"multipart/form-data",method:"post",children:Object(d.jsx)("div",{class:"card",children:Object(d.jsx)(b.a,{itemCategories:f.itemCategories,updateCategories:function(t){t&&g(Object(c.a)(Object(c.a)({},f),{},{itemCategories:t}))}})})})}}}]);
//# sourceMappingURL=9.15bd5240.chunk.js.map